<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>学科快答</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <!-- 通知容器 -->
    <div id="notification-container"></div>
    
    <!-- 庆祝信息 -->
    <div id="celebration-message" class="celebration-message hidden">
        <div>🎉 恭喜你创造了新纪录！🎉</div>
    </div>

    <!-- 主菜单界面 -->
    <div id="start-menu" class="screen">
        <div class="menu-card">
            <h1>学科快答</h1>
            <p>当前题库: <span id="current-library-name">加载中...</span></p>
            
            <div class="menu-buttons">
                <button id="start-game-btn" class="main-btn">
                    <i class="fas fa-play"></i> 开始答题
                </button>
                <button id="select-library-btn" class="main-btn">
                    <i class="fas fa-book"></i> 选择题库
                </button>
                <button id="view-leaderboard-btn" class="main-btn">
                    <i class="fas fa-trophy"></i> 查看排行榜
                </button>
                <button id="show-instructions-btn" class="main-btn">
                    <i class="fas fa-info-circle"></i> 游戏说明
                </button>
            </div>
            
            <div class="menu-footer">
                <div>by 晓炙云溪</div>
                <div>v1.3.22-beta</div>
            </div>
        </div>
    </div>

    <!-- 题库选择界面 -->
    <div id="library-selector" class="screen hidden">
        <div class="card">
            <h2>选择题库</h2>
            
            <div id="library-list" class="library-list">
                <!-- 题库列表将通过JS动态生成 -->
            </div>
            
            <div id="local-file-upload" class="local-file-upload">
                <h3>本地题库</h3>
                <div class="custom-upload-area">
                    <i class="fas fa-upload"></i>
                    <p>点击或拖拽JSON文件到此处</p>
                    <input type="file" id="library-file-input" accept=".json" style="display: none;">
                </div>
            </div>
            
            <div class="back-button-container">
                <button id="back-from-library-btn" class="back-btn">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <button id="back-from-library-btn-text" class="back-btn-text">返回主菜单</button>
            </div>
        </div>
    </div>

    <!-- 游戏界面 -->
    <div id="game" class="screen hidden">
        <div class="game-container">
            <div class="stats">
                <div class="stat-item">
                    <span>分数: </span>
                    <span id="score-value">0</span>
                </div>
                <div class="stat-item">
                    <span>时间: </span>
                    <span id="time-left">60</span>
                </div>
                <div class="stat-item">
                    <span>正确率: </span>
                    <span id="accuracy-display">0/0/0-0%</span>
                </div>
            </div>
            
            <div class="progress-bar">
                <div id="progress-fill" class="progress-fill"></div>
            </div>
            
            <div class="question-container">
                <h2 id="question">题目将在这里显示</h2>
                <div id="options" class="options"></div>
                <div id="feedback" class="feedback hidden"></div>
            </div>
        </div>
        
        <div class="explanation-section">
            <div class="explanation-header">答题记录</div>
            <!-- 答题记录将通过JS动态生成 -->
        </div>
    </div>

    <!-- 游戏结束界面 -->
    <div id="game-over-menu" class="screen hidden">
        <div class="results-container">
            <div class="card">
                <h2>答题结束!</h2>
                <div id="record-message" class="record-message hidden">
                    <i class="fas fa-trophy"></i> 恭喜你创造了新纪录！
                </div>
                <p>你的得分: <span id="final-score">0</span></p>
                <p>答题统计: <span id="quiz-completion-time">0/0/0-0%</span></p>
                
                <h3>当前题库排行榜</h3>
                <ul id="game-over-leaderboard" class="leaderboard">
                    <!-- 排行榜将通过JS动态生成 -->
                </ul>
                
                <div class="button-group">
                    <button id="restart-game-btn" class="action-btn">
                        <i class="fas fa-redo"></i> 再玩一次
                    </button>
                    <button id="back-to-menu-btn" class="action-btn">
                        <i class="fas fa-home"></i> 返回主菜单
                    </button>
                </div>
            </div>
        </div>
        
        <div id="game-over-explanation" class="explanation-section">
            <!-- 游戏结束解析将通过JS动态生成 -->
        </div>
    </div>

    <!-- 排行榜界面 -->
    <div id="leaderboard-menu" class="screen hidden">
        <div class="leaderboard-container">
            <div class="card">
                <h2>排行榜</h2>
                
                <div class="filter-container">
                    <label for="library-filter">题库筛选:</label>
                    <select id="library-filter">
                        <option value="all">所有题库</option>
                        <!-- 选项将通过JS动态生成 -->
                    </select>
                </div>
                
                <ul id="leaderboard" class="leaderboard">
                    <!-- 排行榜将通过JS动态生成 -->
                </ul>
                
                <div class="button-group">
                    <button id="clear-leaderboard-btn" class="action-btn warning">
                        <i class="fas fa-trash"></i> 清空记录
                    </button>
                    <button id="back-to-menu-btn" class="action-btn">
                        <i class="fas fa-home"></i> 返回主菜单
                    </button>
                </div>
            </div>
        </div>
        
        <div id="leaderboard-explanation" class="explanation-section">
            <!-- 排行榜解析将通过JS动态生成 -->
        </div>
    </div>

    <!-- 游戏说明弹窗 -->
    <div id="instructions-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>游戏说明</h2>
            <div class="instructions-content">
                <p>1. 游戏时间为60秒，在规定时间内尽可能回答更多题目</p>
                <p>2. 不同难度的题目有不同的分值：
                    <ul>
                        <li>难度1：3个选项，每题5分</li>
                        <li>难度2：4个选项，每题10分</li>
                        <li>难度3：5个选项，每题15分</li>
                        <li>难度4：6个选项，每题20分</li>
                    </ul>
                </p>
                <p>3. 回答正确将获得相应分数，回答错误不扣分</p>
                <p>4. 时间结束或答完所有题目后游戏结束</p>
                <p>5. 可以查看排行榜了解自己的成绩排名</p>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
    
